CREATE TABLE IF NOT EXISTS ratings(
id BIGSERIAL PRIMARY KEY,
rating DECIMAL NOT NULL DEFAULT 0,
user_id UUID NOT NULL REFERENCES app_user(id) ON DELETE CASCADE,
product_id BIGINT NOT NULL REFERENCES product(id) ON DELETE CASCADE,
date_created TIMESTAMP WITH TIME ZONE NOT NULL,
date_modified TIMESTAMP WITH TIME ZONE NOT NULL DEFAULT CURRENT_TIMESTAMP,
CONSTRAINT unique_uid_pid UNIQUE(user_id, product_id)
);